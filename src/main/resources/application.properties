# ========================================
# ARGATY - APPLICATION CONFIGURATION
# Gaming Gear E-commerce Website
# ========================================

# ===== APPLICATION INFO =====
spring.application.name=Argaty
server.port=8080

# ===== SQL SERVER DATABASE =====
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=ArgatyDB;encrypt=true;trustServerCertificate=true
spring.datasource.username=sa
spring.datasource.password=123123
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# ===== JPA / HIBERNATE =====
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# Logging SQL parameters
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# ===== THYMELEAF =====
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.mode=HTML

# ===== FILE UPLOAD =====
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=100MB

# Tomcat file upload limits
server.tomcat.max-http-form-post-size=100MB
server.tomcat.max-swallow-size=100MB
server.tomcat.max-parameter-count=10000
server.tomcat.max-part-count=200

# Custom upload directory
app.upload.dir=uploads/
app.upload.product-images=uploads/products/
app.upload.user-avatars=uploads/avatars/
app.upload.banners=uploads/banners/
app.upload.reviews=uploads/reviews/

# ===== SPRING MVC =====
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=true

# ===== STATIC RESOURCES =====
spring.web.resources.static-locations=classpath:/static/,file:uploads/
spring.mvc.static-path-pattern=/static/**

# ===== EMAIL (SMTP) =====
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:hoanglong20072004@gmail.com}
spring.mail.password=${MAIL_PASSWORD:hnvx viqn urdz rcuj}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Mail sender/base URL
app.mail.from=${MAIL_FROM:${spring.mail.username:noreply@argaty.com}}
app.base-url=${APP_BASE_URL:http://localhost:8080}

# ===== SESSION =====
server.servlet.session.timeout=30m
server.servlet.session.cookie.name=ARGATY_SESSION
server.servlet.session.cookie.http-only=true

# ===== LOGGING =====
logging.level.root=INFO
logging.level.com.argaty=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ===== CUSTOM APPLICATION PROPERTIES =====
# Số sản phẩm mỗi trang
app.pagination.products-per-page=12
app.pagination.orders-per-page=10
app.pagination.reviews-per-page=5

# Giá ship mặc định (VNĐ)
app.shipping.default-fee=30000
app.shipping.free-threshold=500000

# J&T Shipping API (Realtime)
app.shipping.jnt.enabled=${JNT_ENABLED:true}
app.shipping.jnt.rate-endpoint=${JNT_RATE_ENDPOINT:}
app.shipping.jnt.uat-rate-endpoint=${JNT_UAT_RATE_ENDPOINT:https://demoopenapi.jtexpress.vn/webopenplatformapi/api/spmComCost/getComCost}
app.shipping.jnt.production-rate-endpoint=${JNT_PRODUCTION_RATE_ENDPOINT:https://ylopenapi.jtexpress.vn/webopenplatformapi/api/spmComCost/getComCost}
app.shipping.jnt.use-production=${JNT_USE_PRODUCTION:false}
app.shipping.jnt.api-key-header=${JNT_API_KEY_HEADER:X-API-Key}
app.shipping.jnt.api-key=${JNT_API_KEY:}
app.shipping.jnt.api-account=${JNT_API_ACCOUNT:669375073659916329}
app.shipping.jnt.private-key=${JNT_PRIVATE_KEY:6e93e0d4344e47f0a4af7e4e75af955e}
app.shipping.jnt.customer-code=${JNT_CUSTOMER_CODE:}
app.shipping.jnt.origin-city=${JNT_ORIGIN_CITY:Da Nang}
app.shipping.jnt.origin-district=${JNT_ORIGIN_DISTRICT:Thanh Khe}
app.shipping.jnt.default-weight-gram=${JNT_DEFAULT_WEIGHT_GRAM:1000}
app.shipping.jnt.connect-timeout-ms=${JNT_CONNECT_TIMEOUT_MS:5000}
app.shipping.jnt.read-timeout-ms=${JNT_READ_TIMEOUT_MS:7000}
app.shipping.jnt.fallback-on-error=${JNT_FALLBACK_ON_ERROR:true}

# Cấu hình đánh giá
app.review.allow-without-purchase=false

# Token expiration (phút)
app.security.password-reset-token-expiry=30
app.security.email-verify-token-expiry=1440

# Hiển thị thông báo lỗi chi tiết
server.error.include-message=always
# Hiển thị các lỗi ràng buộc dữ liệu (Validation)
server.error.include-binding-errors=always
# Hiển thị Stack Trace (Cái dòng dài ngoằng chỉ vị trí lỗi)
server.error.include-stacktrace=always
# Đường dẫn mặc định khi lỗi
server.error.path=/error